(this["webpackJsonpfantarka-web-page"]=this["webpackJsonpfantarka-web-page"]||[]).push([[0],{53:function(t,e,n){t.exports=n(74)},62:function(t,e,n){},63:function(t,e,n){},68:function(t,e,n){},69:function(t,e,n){},70:function(t,e,n){},71:function(t,e,n){},72:function(t,e,n){},73:function(t,e,n){},74:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(4),i=n.n(c),o=n(3),u=n(7),s=n(27),l=n.n(s),f=n(45),d=n.n(f),h=n(52),v=n(78),m=n(84),y=n(32),p=function(t,e){Object(a.useEffect)((function(){var n=Object(h.a)(t).pipe(Object(m.a)((function(t){return Object(v.a)(window,t)})),Object(y.a)((function(t){return{x:window.pageXOffset,y:window.pageYOffset,w:window.innerWidth,h:window.innerHeight}}))).subscribe((function(t){return e(t)}));return function(){n.unsubscribe()}}),[t,e])},x=function(t,e){switch(e){case"sound-cloud":return void window.open("https://soundcloud.com/fantarka","_blank");case"email":return void(window.location.href="mailto:fantarkamusic@gmail.com?subject=Fantarka Music")}},g=n(41),b=n(26),k=n.n(b),w=n(38),E=n(24),O=function(t,e){return l.a.get("/users/".concat(t,"/tracks/"),{client_id:e,limit:100})},j=Object(E.b)({name:"player",initialState:{audioState:"stopped",controlAction:"idle",error:null,tracks:[],tracksLoaded:!1,trackActive:0,trackProgress:0},reducers:{audioState:function(t,e){t.audioState=e.payload},getTracksSuccess:function(t,e){var n=e.payload;t.error=null,t.tracks=n,t.tracksLoaded=!0},getTracksFailure:function(t,e){t.error=e.payload},playerControls:function(t,e){switch(e.payload){case"previous":t.trackActive=t.trackActive-1>-1?t.trackActive-1:t.tracks.length-1;break;case"next":t.trackActive=t.tracks.length>t.trackActive+1?t.trackActive+1:0}t.controlAction=e.payload},trackActive:function(t,e){t.trackActive=e.payload},trackProgress:function(t,e){t.trackProgress=e.payload}}}),C=j.actions,M=C.getTracksSuccess,N=C.getTracksFailure,S=C.audioState,A=C.playerControls,z=C.trackActive,L=C.trackProgress,T=j.reducer,I=function(t,e){return function(){var n=Object(w.a)(k.a.mark((function n(a){var r;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r="stopped",e){n.next=5;break}t.pause(),n.next=8;break;case 5:return n.next=7,t.play({streamUrl:e}).then((function(t){return"playing"}),(function(t){return"stopped"}));case 7:r=n.sent;case 8:a(S(r));case 9:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},R=(n(62),function(t){t.onClick;var e=Object(o.b)(),n=Object(o.c)((function(t){return t.player.tracks})),c=Object(a.useRef)(null),i=Object(a.useState)(0),s=Object(u.a)(i,2),l=s[0],f=s[1],d=Object(a.useRef)(null),h=Object(a.useState)({x:0,y:0,w:0,h:0}),v=Object(u.a)(h,2),m=v[0],y=v[1];p(["scroll"],y),Object(a.useEffect)((function(){return f(c.current.clientHeight)}),[]);var g={opacity:"".concat((l-(m.y-.4*m.h))/l)},b=n.map((function(t,n){var a={background:"url("+t.artwork_url+") no-repeat center center",backgroundSize:"cover"};return r.a.createElement("div",{key:n,onClick:function(){return t=n,e(A("play")),void e(z(t));var t},className:"track-container"},t.artwork_url?r.a.createElement("div",{className:"container-image"},r.a.createElement("div",{className:"image",style:a})):r.a.createElement("div",{className:"container-image"}),r.a.createElement("div",{className:"container-info"},r.a.createElement("div",{className:"title"},t.title),r.a.createElement("div",{className:"description"},t.description)))}));return r.a.createElement("div",{id:"container",className:"scroll-container-tracks",ref:d},r.a.createElement("div",{className:"tracks-description",ref:c,style:g},r.a.createElement("h1",null,"About"),r.a.createElement("p",null,"Originally from the UK, Fantarka is a Washington D.C. based EDM producer encompassing trance, house and ambient tracks."),r.a.createElement("p",null,"Also provides customised tracks to clients including national television networks."),r.a.createElement("div",{className:"description-separator"}),r.a.createElement("p",null,"Contact us at ",r.a.createElement("span",{onClick:function(){return x(0,"email")},className:"description-contact"},"fantarkamusic@gmail.com")," for purchasing from our library or customized tracks.")),r.a.createElement("div",{className:"track-list-container"},b))}),_=n(46),q=n(47),D=function(){function t(e){Object(_.a)(this,t),this.color=void 0,this.x=void 0,this.y=void 0,this.hx=void 0,this.hy=void 0,this.vx=void 0,this.vy=void 0,this.mass=void 0,this.friction=void 0,this.gravity=void 0;this.color=e.color,this.x=e.x,this.y=e.y,this.hx=e.hx,this.hy=e.hy,this.vx=0,this.vy=1.5*Math.sin(Math.PI/2),this.mass=1,this.friction=1,this.gravity=0/-Math.PI/2}return Object(q.a)(t,[{key:"update",value:function(){this.vx*=this.friction,this.vy*=this.friction,this.vy+=this.gravity,this.x+=this.vx,this.y+=this.vy}},{key:"add",value:function(t){return{x:this.x+t.x,y:this.y+t.y}}},{key:"sub",value:function(t){return{x:this.x-t.x,y:this.y-t.y}}},{key:"distanceTo",value:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)}},{key:"magnitude",value:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)}},{key:"getSpeed",value:function(){return Math.sqrt(this.vx*this.vx+this.vy*this.vy)}},{key:"setSpeed",value:function(t){var e=this.getHeading();this.vx=Math.cos(e)*t,this.vy=Math.sin(e)*t}},{key:"getHeading",value:function(){return Math.atan2(this.vy,this.vx)}},{key:"setHeading",value:function(t){var e=this.getSpeed();this.vx=Math.cos(t)*e,this.vy=Math.sin(t)*e}},{key:"accelerate",value:function(t,e){this.vx+=t,this.vy+=e}},{key:"ease",value:function(t){var e=t.x-this.x,n=t.y-this.y;this.vx=.05*e,this.vy=.05*n}},{key:"angleTo",value:function(t){return Math.atan2(t.y-this.y,t.x-this.x)}}],[{key:"lerp",value:function(t,e,n){t.x+=(e.x-t.x)*n,t.y+=(e.y-t.y)*n}},{key:"normalize",value:function(t){var e=Math.sqrt(t.x*t.x+t.y*t.y);return e>0&&(t.x=t.x/e,t.y=t.y/e),t}},{key:"divide",value:function(t,e){return{x:t.x/e.x,y:t.y/e.y}}},{key:"multiply",value:function(t,e){return{x:t.x*e.x,y:t.y*e.y}}}]),t}(),F=(n(63),function(t,e,n){var a,r,c,i,o=4*(t.width*n+e);return a=t.data[o],r=t.data[o+1],c=t.data[o+2],i=t.data[o+3],"rgba(".concat(a,", ").concat(r,", ").concat(c,", ").concat(i,")")}),P=function(t,e){var n=!0;return e.forEach((function(e){var a={x:e.hx-e.x,y:e.hy-e.y},r=Math.sqrt(a.x*a.x+a.y*a.y),c=Math.random()*(r>1?Math.min(r,100):r);(a=D.normalize(a)).x=a.x*c,a.y=a.y*c,e.x+=a.x,e.y+=a.y,n=r>0,H(t,e)})),n},H=function(t,e){var n=t.current.getContext("2d");n.fillStyle=e.color,n.fillRect(e.x,e.y,2,2)},B=function(t){var e=t.url,n=(t.width,t.height,Object(a.useRef)(null)),c=Object(a.useState)({x:0,y:0,w:0,h:0}),i=Object(u.a)(c,2),o=i[0],s=i[1];return p(["resize"],s),Object(a.useEffect)((function(){(function(t){var e=new Image,n=new Promise((function(t,n){e.onload=function(){return t(e)},e.onerror=function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return n(e)}}));return e.src=t,n})(e).then((function(t){var e=n.current.parentNode.getBoundingClientRect();n.current.width=e.width,n.current.height=e.height;var a=e.width/4,r=e.height/4,c=n.current.getContext("2d");c.drawImage(t,0,0,a,r);var i=function(t,e){for(var n=[],a=t.current.width,r=t.current.height,c=0;c<a/4;c+=1)for(var i=0;i<r/4;i+=1)n.push(new D({color:F(e,c,i),x:a/2,y:r/2,hx:4*c,hy:4*i}));return n}(n,c.getImageData(0,0,a,r));!function t(e,n,a){a&&(e.current.getContext("2d").clearRect(0,0,e.current.width,e.current.height),P(e,n)&&requestAnimationFrame((function(){return t(e,n,!0)})))}(n,i,!0)}),(function(t){return console.log("Error loading image:",t)}))}),[e]),Object(a.useEffect)((function(){var t=new Image;t.onload=function(){n.current.width=o.w,n.current.height=o.h,n.current.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,o.w,o.h)},t.src=n.current.toDataURL()}),[o]),r.a.createElement("div",{className:"player-background-image"},r.a.createElement("canvas",{ref:n}))},U=n(51),X=(n(64),n(50)),W=n(17),J=(n(68),function(t){switch(t){case"forward":return W.g;case"backward":return W.f;case"play":return W.e;case"pause":return W.d;case"previous":return W.a;case"next":return W.b;case"down":return W.c}}),K=function(t){var e=t.iconType,n=t.onClick,c=Object(a.useState)(!1),i=Object(u.a)(c,2),o=i[0],s=i[1];return r.a.createElement("button",{className:"control-button",onClick:function(){s(!0),n(e)},onAnimationEnd:function(){s(!1)}},r.a.createElement("div",{className:o?"control-button-ripple active":"control-button-ripple"}),r.a.createElement(X.a,{icon:J(e),color:"white"}))},V=(n(69),function(){var t=Object(o.b)(),e=Object(o.c)((function(t){return t.player.trackProgress})),n=Object(o.c)((function(t){return t.player.audioState})),a=function(e){var n=null;switch(e){case"previous":case"pause":case"play":case"next":n=e}n&&t(A(n))};return r.a.createElement("div",{className:"player-controls"},r.a.createElement("div",{className:"controls-buttons"},r.a.createElement(K,{iconType:"previous",onClick:a}),r.a.createElement(K,{iconType:"playing"===n?"pause":"play",onClick:a}),r.a.createElement(K,{iconType:"next",onClick:a})),r.a.createElement("div",{className:"controls-progress ".concat("playing"===n||"paused"===n?"active":"")},r.a.createElement(U.a,{min:0,max:100,defaultValue:10,step:1e-5,value:e,handleStyle:{borderColor:"white",height:12,width:12,backgroundColor:"white"},onChange:function(e){t(L(e))}})))}),Y=(n(70),function(t,e,n){for(var a=t.current.getContext("2d").getImageData(0,0,e,n),r=new Uint32Array(a.data.buffer),c=[],i=0;i<e;i++)for(var o=0;o<n;o++){var u=r[o*e+i];u&&c.push(new D({color:""+u,x:-1,y:-1,hx:i,hy:o}))}return c}),G=function(t,e,n){e.gravity+=Math.max(.002*Math.random(),.001)},Q=function(t,e,n,a){var r={x:a/2-t.animate.textMetrics.width/2+(e.hx-e.x),y:e.hy-38*(t.index+1)+23-e.y},c=Math.sqrt(r.x*r.x+r.y*r.y),i=Math.random()*(c>1?Math.max(c/2,5):c);(r=D.normalize(r)).x=r.x*i,r.y=r.y*i,e.x+=r.x,e.y+=r.y},Z=function(t,e,n,a){e.particles.forEach((function(r){var c=Math.round(r.x),i=Math.round(r.y);c>=0&&c<a&&i>=0&&i<n&&(t[c+a*i]=+r.color,e.animate.f&&(e.animate.f(e,r,e.animate.textMetrics,a),r.update()))}))},$=function(t,e){var n=t.current.width;e.animate.f=Q,e.particles.forEach((function(t){t.vx=0,t.vy=0,t.gravity=0,t.x=.5*n,t.y=23}))},tt=function(){var t=Object(o.c)((function(t){return t.player.tracks})),e=Object(o.c)((function(t){return t.player.trackActive})),n=Object(a.useRef)(null),c=Object(a.useState)([]),i=Object(u.a)(c,2),s=i[0],l=i[1],f=Object(a.useState)(0),d=Object(u.a)(f,2),h=d[0],v=d[1];Object(a.useEffect)((function(){if(0!==t.length){var e=function(t,e){var n=t.current.parentNode.getBoundingClientRect(),a=t.current.getContext("2d");t.current.width=n.width,t.current.height=n.height;var r=n.width,c=n.height;return a.fillStyle="#f8f8ff",a.font="".concat(23,"px Syncopate"),a.textBaseline="middle",e.map((function(e,n){var i=a.measureText(e.title);return a.fillText(e.title,0,Math.round(38)*(n+1)),function(t,e,n,a){return{index:t,particles:e,animate:{textMetrics:n},title:a}}(n,Y(t,r,c),i,e.title)}))}(n,t);l(e),$(n,e[0]),function t(e,n){var a=e.current.width,r=e.current.height,c=e.current.getContext("2d");c.clearRect(0,0,a,r);var i=c.createImageData(a,r),o=new Uint32Array(i.data.buffer);n.forEach((function(t){Z(o,t,r,a)})),c.putImageData(i,0,0),requestAnimationFrame((function(){return t(e,n)}))}(n,e)}}),[t]);var m=Object(a.useEffect)((function(){var a;0!==t.length&&e!==h&&($(n,s[e]),(a=s[h]).animate.f=G,a.particles.forEach((function(t){t.gravity=t.y*Math.max(.003*Math.random(),.001)})))}),[h,e,s]);return Object(a.useEffect)((function(){v(e)}),[m,e]),r.a.createElement("div",{className:"track-name-container"},r.a.createElement("div",{className:"container-canvas"},r.a.createElement("canvas",{ref:n})))},et=n(79),nt=n(80),at=n(81),rt=n(82),ct=n(83),it=(n(71),function(t){var e=t.width,n=t.height,a=t.onClick;return r.a.createElement("button",{className:"soundcloud-share",onClick:function(t){return a(t,"soundCloud")}},r.a.createElement("svg",{x:"0px",y:"0px",viewBox:"0 0 100 100",width:e,height:n},r.a.createElement("g",{style:{fill:"rgba(255, 85, 0, 1)"}},r.a.createElement("path",{d:"M3.361,67.281L5,60.279l-1.639-7.238c-0.045-0.215-0.457-0.379-0.959-0.379\nc-0.508,0-0.92,0.164-0.959,0.381L0,60.279l1.443,7.002c0.039,0.217,0.451,0.381,0.959,0.381\nC2.904,67.662,3.316,67.498,3.361,67.281z M13.611,71.168L15,60.348l-1.389-16.74c-0.041-0.426-0.561-0.76-1.191-0.76\nc-0.635,0-1.156,0.334-1.188,0.76L10,60.348l1.232,10.82c0.031,0.422,0.553,0.756,1.188,0.756\nC13.051,71.924,13.57,71.594,13.611,71.168z M23.84,70.99L25,60.354l-1.16-22.287c-0.031-0.523-0.648-0.934-1.404-0.934\nc-0.762,0-1.379,0.41-1.406,0.934L20,60.354l1.029,10.642c0.027,0.519,0.645,0.928,1.406,0.928\nC23.191,71.922,23.809,71.514,23.84,70.99z M34.049,70.832L35,60.355l-0.951-22.449c-0.023-0.621-0.727-1.107-1.6-1.107\nc-0.879,0-1.582,0.486-1.604,1.107L30,60.355l0.85,10.475c0.018,0.615,0.721,1.102,1.6,1.102\nC33.322,71.932,34.025,71.453,34.049,70.832z M44.248,70.699L45,60.359l-0.752-25.74c-0.016-0.707-0.818-1.281-1.787-1.281\nc-0.971,0-1.771,0.576-1.787,1.281L40,60.352c0,0.017,0.674,10.349,0.674,10.349c0.016,0.698,0.816,1.272,1.787,1.272\nC43.43,71.973,44.232,71.406,44.248,70.699z M51.391,71.98C51.424,71.982,86.883,72,87.114,72C94.232,72,100,66.42,100,59.537\nc0-6.885-5.768-12.465-12.887-12.465c-1.766,0-3.449,0.348-4.984,0.969C81.104,36.811,71.363,28,59.484,28\nc-2.906,0-5.742,0.553-8.244,1.488c-0.972,0.366-1.232,0.739-1.24,1.467v39.553C50.01,71.27,50.621,71.906,51.391,71.98z"}))))}),ot=function(){var t={paddingLeft:"0.5em",paddingRight:"0.5em",paddingTop:"1px"};return r.a.createElement("div",{className:"social-bar-container"},r.a.createElement(et.a,{size:32,round:!0,onClick:function(t){return x(0,"email")}}),r.a.createElement(nt.a,{url:"http://www.fantarka.com/",style:t,children:r.a.createElement(at.a,{size:32,round:!0})}),r.a.createElement(rt.a,{url:"http://www.fantarka.com/",style:t,title:"Fantarka Music",children:r.a.createElement(ct.a,{size:32,round:!0})}),r.a.createElement(it,{width:32,onClick:function(t){return x(0,"sound-cloud")}}))},ut=(n(72),function(){var t=Object(o.c)((function(t){return t.player.tracksLoaded})),e=Object(o.c)((function(t){return t.player.tracks})),n=Object(o.c)((function(t){return t.player.trackActive})),c=Object(o.c)((function(t){return t.player.audioState})),i=Object(o.c)((function(t){return t.player.controlAction})),s=Object(o.b)(),f=function(){var t=Object(o.b)(),e=Object(a.useState)(null),n=Object(u.a)(e,2),r=n[0],c=n[1];if(!r){var i=new d.a("904ef8653a4252c494b98c310300b467"),s=-1;i.audio.crossOrigin="anonymous",i.on("timeupdate",(function(e){var n=i.audio.currentTime/i.audio.duration*100;n!==s&&(t(L(i.audio.currentTime/i.audio.duration*100||0)),s=n)})),c(i)}return r}(),h=Object(a.useState)({x:0,y:0,w:0,h:0}),v=Object(u.a)(h,2),m=v[0],y=v[1];l.a.initialize({client_id:"904ef8653a4252c494b98c310300b467"}),Object(a.useEffect)((function(){var e,n;t||s((e="81132380",n="904ef8653a4252c494b98c310300b467",function(){var t=Object(w.a)(k.a.mark((function t(a){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O(e,n);case 3:r=(r=t.sent).map((function(t){return Object(g.a)(Object(g.a)({},t),{},{artwork_url:t.artwork_url?t.artwork_url.replace("-large","-t500x500"):null})})),a(M(r)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(N(t.t0.toString()));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))}),[s,t]),Object(a.useEffect)((function(){if(i&&"idle"!==i)switch(i){case"previous":case"next":"stopped"!==c&&s(I(f,e[n].stream_url));break;case"play":s(I(f,e[n].stream_url));break;case"pause":s(I(f))}}),[s,i,f,e,n,c]),Object(a.useEffect)((function(){if("stopped"===c){var t=setInterval((function(){return s(A("next"))}),5e3);return function(){return clearInterval(t)}}}),[c]),p(["scroll"],y);var x={transform:"scale(".concat(Math.max(0,1-m.y/500),")")};return r.a.createElement("div",{className:"player-container"},r.a.createElement("div",{className:"container-sticky-content",style:x},r.a.createElement(B,{width:window.innerWidth,height:window.innerHeight,url:"./fantarka-avatar.jpg"}),r.a.createElement("div",{className:"content-header"},"Fantarka"),r.a.createElement("div",{className:"content-main"},r.a.createElement(V,null),r.a.createElement(tt,null),r.a.createElement("div",{className:"container-indicator"},r.a.createElement("div",{className:"indicator-line"}),r.a.createElement("div",{className:"indicator-sphere"})))),r.a.createElement(R,{onClick:function(t){return console.log("XXX CLICKED")}}),r.a.createElement(ot,null))}),st=n(11),lt=Object(st.c)({player:T});var ft=Object(E.a)({reducer:lt});n(73);i.a.render(r.a.createElement(o.a,{store:ft},r.a.createElement(ut,null)),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.143d9409.chunk.js.map