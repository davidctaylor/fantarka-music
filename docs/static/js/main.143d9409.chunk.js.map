{"version":3,"sources":["components/effects/scroll.tsx","lib/utils.ts","components/player/player-slice.ts","components/list/track-list.tsx","lib/Particle.tsx","components/background/player-background.tsx","components/control-button/control-button.tsx","components/controls/player-controls.tsx","components/player-track-name/player-track-name.tsx","icons/soundcloud-icon.tsx","components/social-bar/social-bar.tsx","components/player/player.tsx","store/root-reducer.ts","store/store.ts","index.tsx"],"names":["useScrollPosition","types","callBack","useEffect","sub","from","pipe","mergeMap","eventType","fromEvent","window","map","event","x","pageXOffset","y","pageYOffset","w","innerWidth","h","innerHeight","subscribe","e","unsubscribe","handleOnShareEvent","evt","type","open","location","href","loadTracks","userId","clientId","SC","get","client_id","limit","playerSlice","createSlice","name","initialState","audioState","controlAction","error","tracks","tracksLoaded","trackActive","trackProgress","reducers","state","action","payload","getTracksSuccess","getTracksFailure","playerControls","length","actions","audioPlayPlayTrack","player","url","dispatch","a","pause","play","streamUrl","then","v","TrackList","onClick","useDispatch","useSelector","refTrackDesc","useRef","useState","trackDescHeight","setTrackDescHeight","refTrackList","scrollPosition","setScrollPosition","current","clientHeight","containerStyle","opacity","renderedTracks","t","i","imageStyle","background","artwork_url","backgroundSize","key","idx","className","style","title","description","id","ref","Particle","props","color","hx","hy","vx","vy","mass","friction","gravity","this","Math","sin","PI","dx","dy","sqrt","speed","heading","getHeading","cos","atan2","getSpeed","ax","ay","p","v1","v2","alpha","m","getPixelColor","data","r","g","b","width","animateInitial","particles","isLoading","forEach","particle","direction","distance","random","min","normalize","drawParticle","ctx","getContext","fillStyle","fillRect","PlayerBackground","canvasRef","height","image","Image","promise","Promise","fulfill","fail","onload","onerror","err","src","loadBackgroundImage","img","box","parentNode","getBoundingClientRect","drawImage","push","createParticles","getImageData","animate","clearRect","requestAnimationFrame","console","log","toDataURL","icon","faStepForward","faStepBackward","faPlay","faPause","faAngleLeft","faAngleRight","faLongArrowAltDown","ControlButton","iconType","active","setActive","onAnimationEnd","PlayerControls","activeTrackProgress","activeAudioState","handleOnClickEvent","c","max","defaultValue","step","value","handleStyle","borderColor","backgroundColor","onChange","createParticleArray","imageData","imageBuffer","Uint32Array","buffer","animateTrackRemove","trackData","textMetrics","animateTrackActive","index","animateTrackParticles","pixels","trackObject","canvasHeight","canvasWidth","round","f","update","setTrackNext","PlayerTrackName","trackParticles","setTrackParticles","previousTrackActive","setPreviousTrackActive","font","textBaseline","track","measureText","fillText","TEXT_SIZE","createTrackObject","initializeCanvas","createImageData","putImageData","nextTrack","SoundCloudLogo","viewBox","fill","d","SocialBar","paddingLeft","paddingRight","paddingTop","EmailIcon","size","FacebookShareButton","children","FacebookIcon","TwitterShareButton","TwitterIcon","Player","isLoaded","setPlayer","SoundCloudAudio","last","audio","crossOrigin","on","time","progress","currentTime","duration","useSoundCloudPlayer","initialize","replace","toString","stream_url","timer","setInterval","clearInterval","transform","rootReducer","combineReducers","playerReducer","store","configureStore","reducer","ReactDOM","render","document","getElementById"],"mappings":"ocAOaA,EAAoB,SAACC,EAAiBC,GACjDC,qBAAU,WACR,IAAMC,EAAoBC,YAAKJ,GAC5BK,KACCC,aAAS,SAACC,GAAD,OAAuBC,YAAUC,OAAQF,MAClDG,aAAI,SAACC,GAAD,MAAmC,CACrCC,EAAGH,OAAOI,YACVC,EAAGL,OAAOM,YACVC,EAAGP,OAAOQ,WACVC,EAAGT,OAAOU,iBAGbC,WAAU,SAACC,GAAD,OAAuBpB,EAASoB,MAE7C,OAAO,WACLlB,EAAImB,iBAEL,CAACtB,EAAOC,KCnBAsB,EAAqB,SAACC,EAAUC,GAC3C,OAAQA,GACN,IAAK,cAEH,YADAhB,OAAOiB,KARiB,kCAQW,UAErC,IAAK,QAEH,YADAjB,OAAOkB,SAASC,KAAO,2D,yCCMvBC,EAAa,SAACC,EAAgBC,GAClC,OAAOC,IAAGC,IAAH,iBAAiBH,EAAjB,YAAmC,CACxCI,UAAWH,EACXI,MAAO,OAkBLC,EAAcC,YAAY,CAC9BC,KAAM,SACNC,aAZsC,CACtCC,WAAY,UACZC,cAAe,OACfC,MAAO,KACPC,OAAQ,GACRC,cAAc,EACdC,YAAa,EACbC,cAAe,GAMfC,SAAU,CACRP,WADQ,SACGQ,EAAoBC,GAC7BD,EAAMR,WAAaS,EAAOC,SAE5BC,iBAJQ,SAISH,EAJT,GAIsD,IAApCE,EAAmC,EAAnCA,QACxBF,EAAMN,MAAQ,KACdM,EAAML,OAASO,EACfF,EAAMJ,cAAe,GAEvBQ,iBA1BqB,SAACJ,EAAoBC,GAC5CD,EAAMN,MAAQO,EAAOC,SA0BnBG,eAVQ,SAUOL,EAAoBC,GACjC,OAAQA,EAAOC,SACb,IAAK,WACHF,EAAMH,YAAcG,EAAMH,YAAc,GAAK,EAAIG,EAAMH,YAAc,EAAIG,EAAML,OAAOW,OAAQ,EAC9F,MACF,IAAK,OACHN,EAAMH,YAAcG,EAAML,OAAOW,OAASN,EAAMH,YAAc,EAAIG,EAAMH,YAAc,EAAK,EAG/FG,EAAMP,cAAgBQ,EAAOC,SAE/BL,YArBQ,SAqBIG,EAAoBC,GAC9BD,EAAMH,YAAcI,EAAOC,SAE7BJ,cAxBQ,SAwBME,EAAoBC,GAChCD,EAAMF,cAAgBG,EAAOC,Y,EAY/Bd,EAAYmB,QANdJ,E,EAAAA,iBACAC,E,EAAAA,iBACAZ,E,EAAAA,WACAa,E,EAAAA,eACAR,E,EAAAA,YACAC,E,EAAAA,cAGaV,IAAf,QAEaoB,EAAqB,SAACC,EAAaC,GAAd,8CAAyC,WAAMC,GAAN,eAAAC,EAAA,yDACrEZ,EAAwB,UACvBU,EAFoE,gBAGvED,EAAOI,QAHgE,sCAKzDJ,EACXK,KAAK,CAACC,UAAWL,IACjBM,MAAK,SAACC,GAAD,MAAY,aAAW,SAACA,GAAD,MAAY,aAP4B,OAKvEjB,EALuE,cASzEW,EAASnB,EAAWQ,IATqD,2CAAzC,uDCzDrBkB,G,MAAY,SAAC,GAA+B,EAA9BC,QAA+B,IAClDR,EAAWS,cAEXzB,EAAkB0B,aAAY,SAACrB,GAAD,OAAsBA,EAAMS,OAAOd,UACjE2B,EAAeC,iBAAuB,MAJW,EAKTC,mBAAiB,GALR,mBAKhDC,EALgD,KAK/BC,EAL+B,KAMjDC,EAAeJ,iBAAuB,MANW,EAOXC,mBAAyB,CAAC5D,EAAG,EAAGE,EAAG,EAAGE,EAAG,EAAGE,EAAG,IAPpC,mBAOhD0D,EAPgD,KAOhCC,EAPgC,KASvD9E,EAAkB,CAAC,UAAW8E,GAG9B3E,qBAAU,kBAAMwE,EAAmBJ,EAAaQ,QAAQC,gBAAe,IAEvE,IAAMC,EAAgC,CACpCC,QAAQ,GAAD,QAAOR,GAAmBG,EAAe9D,EAAuB,GAAnB8D,EAAe1D,IAAYuD,IAQ3ES,EAAiBvC,EAAOjC,KAAI,SAACyE,EAAUC,GAC3C,IAAMC,EAA4B,CAChCC,WAAY,OAASH,EAAEI,YAAc,4BACrCC,eAAgB,SAGlB,OAAO,yBAAKC,IAAKL,EAAIjB,QAAS,kBAXJuB,EAW6BN,EAVvDzB,EAASN,EAAe,cACxBM,EAASd,EAAY6C,IAFI,IAACA,GAWiCC,UAAU,mBAE7DR,EAAEI,YACI,yBAAKI,UAAU,mBACrB,yBAAKA,UAAU,QAAQC,MAAOP,KAGxB,yBAAKM,UAAU,oBAG3B,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,SAASR,EAAEU,OAC1B,yBAAKF,UAAU,eAAeR,EAAEW,kBAKtC,OAAO,yBAAKC,GAAG,YAAYJ,UAAU,0BAA0BK,IAAKrB,GAClE,yBAAKgB,UAAU,qBAAqBK,IAAK1B,EAAcsB,MAAOZ,GAC5D,qCACA,sJAEA,iHAEA,yBAAKW,UAAU,0BACf,4CAAiB,0BAAMxB,QAAS,kBAAM5C,EAAmB,EAAM,UAAUoE,UAAU,uBAAlE,2BAAjB,2DAGF,yBAAKA,UAAU,wBAAyBT,M,gBCjE/Be,EAAb,WAYE,WAAYC,GAAuB,yBAX5BC,WAW2B,OAV3BvF,OAU2B,OAT3BE,OAS2B,OAR3BsF,QAQ2B,OAP3BC,QAO2B,OAN3BC,QAM2B,OAL3BC,QAK2B,OAJ3BC,UAI2B,OAH3BC,cAG2B,OAF3BC,aAE2B,EAEhCC,KAAKR,MAAQD,EAAMC,MACnBQ,KAAK/F,EAAIsF,EAAMtF,EACf+F,KAAK7F,EAAIoF,EAAMpF,EACf6F,KAAKP,GAAKF,EAAME,GAChBO,KAAKN,GAAKH,EAAMG,GAChBM,KAAKL,GAAK,EACVK,KAAKJ,GAPO,IAOFK,KAAKC,IAAID,KAAKE,GAAK,GAC7BH,KAAKH,KAAO,EACZG,KAAKF,SAAW,EAChBE,KAAKD,QAAU,GAAKE,KAAKE,GAAK,EAvBlC,qDA2BIH,KAAKL,IAAMK,KAAKF,SAChBE,KAAKJ,IAAMI,KAAKF,SAChBE,KAAKJ,IAAMI,KAAKD,QAChBC,KAAK/F,GAAK+F,KAAKL,GACfK,KAAK7F,GAAK6F,KAAKJ,KA/BnB,0BAgDMtC,GACF,MAAO,CAACrD,EAAG+F,KAAK/F,EAAIqD,EAAErD,EAAGE,EAAG6F,KAAK7F,EAAImD,EAAEnD,KAjD3C,0BAoDMmD,GACF,MAAO,CAACrD,EAAG+F,KAAK/F,EAAIqD,EAAErD,EAAGE,EAAG6F,KAAK7F,EAAImD,EAAEnD,KArD3C,iCAiEamD,GACT,IAAM8C,EAAKJ,KAAK/F,EAAIqD,EAAErD,EACpBoG,EAAKL,KAAK7F,EAAImD,EAAEnD,EAElB,OAAO8F,KAAKK,KAAKF,EAAKA,EAAKC,EAAKA,KArEpC,gCAwEY/C,GACR,OAAO2C,KAAKK,KAAKhD,EAAErD,EAAIqD,EAAErD,EAAIqD,EAAEnD,EAAImD,EAAEnD,KAzEzC,iCA6EI,OAAO8F,KAAKK,KAAKN,KAAKL,GAAKK,KAAKL,GAAKK,KAAKJ,GAAKI,KAAKJ,MA7ExD,+BAgFWW,GACP,IAAMC,EAAUR,KAAKS,aACrBT,KAAKL,GAAKM,KAAKS,IAAIF,GAAWD,EAC9BP,KAAKJ,GAAKK,KAAKC,IAAIM,GAAWD,IAnFlC,mCAuFI,OAAON,KAAKU,MAAMX,KAAKJ,GAAII,KAAKL,MAvFpC,iCA0Faa,GACT,IAAMD,EAAQP,KAAKY,WACnBZ,KAAKL,GAAKM,KAAKS,IAAIF,GAAWD,EAC9BP,KAAKJ,GAAKK,KAAKC,IAAIM,GAAWD,IA7FlC,iCAgGaM,EAAYC,GACrBd,KAAKL,IAAMkB,EACXb,KAAKJ,IAAMkB,IAlGf,2BAqGOxD,GACH,IAAI8C,EAAK9C,EAAErD,EAAI+F,KAAK/F,EAClBoG,EAAK/C,EAAEnD,EAAI6F,KAAK7F,EAElB6F,KAAKL,GAAU,IAALS,EACVJ,KAAKJ,GAAU,IAALS,IA1Gd,8BA6GUU,GACN,OAAOd,KAAKU,MAAMI,EAAE5G,EAAI6F,KAAK7F,EAAG4G,EAAE9G,EAAI+F,KAAK/F,MA9G/C,4BAkCe+G,EAAiBC,EAAiBC,GAC7CF,EAAG/G,IAAOgH,EAAGhH,EAAI+G,EAAG/G,GAAMiH,EAC1BF,EAAG7G,IAAO8G,EAAG9G,EAAI6G,EAAG7G,GAAM+G,IApC9B,gCAuCmBH,GACf,IAAMI,EAAIlB,KAAKK,KAAKS,EAAE9G,EAAI8G,EAAE9G,EAAI8G,EAAE5G,EAAI4G,EAAE5G,GAKxC,OAJIgH,EAAI,IACNJ,EAAE9G,EAAI8G,EAAE9G,EAAIkH,EACZJ,EAAE5G,EAAI4G,EAAE5G,EAAIgH,GAEPJ,IA7CX,6BAwDgBC,EAAiBC,GAC7B,MAAO,CAAChH,EAAG+G,EAAG/G,EAAIgH,EAAGhH,EAAGE,EAAG6G,EAAG7G,EAAI8G,EAAG9G,KAzDzC,+BA4DkB6G,EAAiBC,GAC/B,MAAO,CAAChH,EAAG+G,EAAG/G,EAAIgH,EAAGhH,EAAGE,EAAG6G,EAAG7G,EAAI8G,EAAG9G,OA7DzC,KCSMiH,G,MAAgB,SAACC,EAAiBpH,EAAWE,GACjD,IJ1B0BmH,EAAWC,EAAWC,EAAWvE,EI0BvD8B,EAA+B,GAAvBsC,EAAKI,MAAQtH,EAAKF,GAC9B,OJ3B0BqH,EI2BPD,EAAKA,KAAKtC,GJ3BQwC,EI2BFF,EAAKA,KAAKtC,EAAM,GJ3BHyC,EI2BOH,EAAKA,KAAKtC,EAAM,GJ3BZ9B,EI2BgBoE,EAAKA,KAAKtC,EAAM,GJ1BrF,QAAN,OAAeuC,EAAf,aAAqBC,EAArB,aAA2BC,EAA3B,aAAiCvE,EAAjC,OIgEIyE,EAAiB,SAACrC,EAA6BsC,GACnD,IAAIC,GAAY,EAiBhB,OAhBAD,EAAUE,SAAQ,SAACC,GACjB,IAAIC,EAAY,CAAC9H,EAAG6H,EAASrC,GAAKqC,EAAS7H,EAAGE,EAAG2H,EAASpC,GAAKoC,EAAS3H,GACtE6H,EAAW/B,KAAKK,KAAKyB,EAAU9H,EAAI8H,EAAU9H,EAAI8H,EAAU5H,EAAI4H,EAAU5H,GACzEoG,EAAQN,KAAKgC,UAAYD,EAAW,EAAI/B,KAAKiC,IAAIF,EAAU,KAAOA,IAEpED,EAAYzC,EAAS6C,UAAUJ,IACrB9H,EAAI8H,EAAU9H,EAAIsG,EAC5BwB,EAAU5H,EAAI4H,EAAU5H,EAAIoG,EAE5BuB,EAAS7H,GAAK8H,EAAU9H,EACxB6H,EAAS3H,GAAK4H,EAAU5H,EAExByH,EAAYI,EAAW,EAEvBI,EAAa/C,EAAKyC,MAEbF,GAGHQ,EAAe,SAAC/C,EAA6ByC,GAEjD,IAAMO,EAAgChD,EAAIlB,QAAQmE,WAAW,MAE7DD,EAAIE,UAAYT,EAAStC,MACzB6C,EAAIG,SAASV,EAAS7H,EAAG6H,EAAS3H,EAFb,MAWVsI,EAAmB,SAAC,GAAiD,IAAhD1F,EAA+C,EAA/CA,IAC1B2F,GADyE,EAA1CjB,MAA0C,EAAnCkB,OACF/E,iBAA0B,OADW,EAEnCC,mBAAyB,CAAC5D,EAAG,EAAGE,EAAG,EAAGE,EAAG,EAAGE,EAAG,IAFZ,mBAExE0D,EAFwE,KAExDC,EAFwD,KA6C/E,OAzCA9E,EAAkB,CAAC,UAAW8E,GAE9B3E,qBAAU,YA7FgB,SAACwD,GAC3B,IAAM6F,EAA0B,IAAIC,MAC9BC,EAAU,IAAIC,SAA0B,SAACC,EAASC,GACtDL,EAAMM,OAAS,kBAAMF,EAAQJ,IAC7BA,EAAMO,QAAU,sCAAIC,EAAJ,yBAAIA,EAAJ,uBAAYH,EAAKG,OAKnC,OAFAR,EAAMS,IAAMtG,EAEL+F,GAqFLQ,CAAoBvG,GACjBM,MAAK,SAACkG,GAEH,IAAMC,EAAMd,EAAUvE,QAAQsF,WAAWC,wBAEzChB,EAAUvE,QAAQsD,MAAQ+B,EAAI/B,MAE9BiB,EAAUvE,QAAQwE,OAASa,EAAIb,OAE/B,IAAIlB,EAAQ+B,EAAI/B,MAAQ,EAEpBkB,EAASa,EAAIb,OAAS,EAEpBN,EAAgCK,EAAUvE,QAAQmE,WAAW,MACnED,EAAIsB,UAAUJ,EAAK,EAAG,EAAG9B,EAAOkB,GAChC,IAAMhB,EA5FQ,SAACtC,EAA6BgC,GAQpD,IAPA,IAAMM,EAAwB,GAG1BF,EAAQpC,EAAIlB,QAAQsD,MAEpBkB,EAAStD,EAAIlB,QAAQwE,OAEhB1I,EAAI,EAAGA,EAAIwH,EAAQ,EAAGxH,GAAK,EAClC,IAAK,IAAIE,EAAI,EAAGA,EAAIwI,EAAS,EAAGxI,GAAK,EACnCwH,EAAUiC,KAAK,IAAItE,EAAS,CAC1BE,MAAO4B,EAAcC,EAAMpH,EAAGE,GAC9BF,EAAGwH,EAAQ,EACXtH,EAAGwI,EAAS,EACZlD,GAjCQ,EAiCJxF,EACJyF,GAlCQ,EAkCJvF,KAIV,OAAOwH,EAyE+BkC,CAAgBnB,EAAWL,EAAIyB,aAAa,EAAG,EAAGrC,EAAOkB,KAtEjF,SAAVoB,EAAW1E,EAA6BsC,EAAuBC,GAC/DA,IAEoCvC,EAAIlB,QAAQmE,WAAW,MAEzD0B,UAAU,EAAG,EAAG3E,EAAIlB,QAAQsD,MAAOpC,EAAIlB,QAAQwE,QAE/CjB,EAAerC,EAAKsC,IACtBsC,uBAAsB,kBAAMF,EAAQ1E,EAAKsC,GAAW,OA+DhDoC,CAAQrB,EAAWf,GAAW,MAEhC,SAACyB,GAAD,OAASc,QAAQC,IAAI,uBAAwBf,QAEhD,CAACrG,IAEJxD,qBAAU,WACR,IAAMgK,EAAwB,IAAIV,MAClCU,EAAIL,OAAS,WAEXR,EAAUvE,QAAQsD,MAAQxD,EAAe5D,EAEzCqI,EAAUvE,QAAQwE,OAAS1E,EAAe1D,EAEJmI,EAAUvE,QAAQmE,WAAW,MAC/DqB,UAAUJ,EAAK,EAAG,EAAGA,EAAI9B,MAAO8B,EAAIZ,OAAQ,EAAG,EAAG1E,EAAe5D,EAAG4D,EAAe1D,IAGzFgJ,EAAIF,IAAMX,EAAUvE,QAAQiG,cAE3B,CAACnG,IAGF,yBAAKe,UAAU,2BACb,4BAAQK,IAAKqD,M,gCCjIb2B,G,MAAO,SAAC5F,GACZ,OAAOA,GACL,IAAK,UACH,OAAO6F,IACT,IAAK,WACH,OAAOC,IACT,IAAK,OACH,OAAOC,IACT,IAAK,QACH,OAAOC,IACT,IAAK,WACH,OAAOC,IACT,IAAK,OACH,OAAOC,IACT,IAAK,OACH,OAAOC,OAIAC,EAAgB,SAAC,GAA4C,IAA3CC,EAA0C,EAA1CA,SAAUtH,EAAgC,EAAhCA,QAAgC,EAC3CK,oBAAS,GADkC,mBAChEkH,EADgE,KACxDC,EADwD,KAEvE,OACE,4BAAQhG,UAAU,iBACVxB,QAAS,WACPwH,GAAU,GACVxH,EAAQsH,IAEVG,eAAgB,WACdD,GAAU,KAEjB,yBAAKhG,UAAW+F,EAAS,+BAAiC,0BAC3D,kBAAC,IAAD,CAAiBV,KAAMA,EAAKS,GAAWtF,MAAM,YCnCtC0F,G,MAAiB,WAC5B,IAAMlI,EAAWS,cACX0H,EAA8BzH,aAAY,SAACrB,GAAD,OAAsBA,EAAMS,OAAOX,iBAC7EiJ,EAA0C1H,aAAY,SAACrB,GAAD,OAAsBA,EAAMS,OAAOjB,cAEzFwJ,EAAqB,SAAC7G,GAC1B,IAAI8G,EAA8B,KAClC,OAAO9G,GACL,IAAK,WAGL,IAAK,QAGL,IAAK,OAGL,IAAK,OACH8G,EAAI9G,EAGH8G,GAGLtI,EAASN,EAAe4I,KAO1B,OAAO,yBAAKtG,UAAU,mBACpB,yBAAKA,UAAU,oBACb,kBAAC,EAAD,CAAe8F,SAAU,WAAYtH,QAAS6H,IAC9C,kBAAC,EAAD,CACEP,SAA+B,YAArBM,EAAiC,QAAU,OACrD5H,QAAS6H,IACX,kBAAC,EAAD,CAAeP,SAAU,OAAQtH,QAAS6H,KAE5C,yBAAKrG,UAAS,4BAA4C,YAArBoG,GAAuD,WAArBA,EAAgC,SAAW,KAChH,kBAAC,IAAD,CACElD,IAAK,EACLqD,IAAK,IACLC,aAAc,GACdC,KAAM,KACNC,MAAOP,EACPQ,YAAa,CACXC,YAAa,QACbjD,OAAQ,GACRlB,MAAO,GACPoE,gBAAiB,SAEnBC,SAzBoB,SAAC/E,GACzB/D,EAASb,EAAc4E,WC0BrBgF,G,MAAsB,SAAC1G,EAA6BoC,EAAekB,GAOvE,IALA,IACMqD,EADgC3G,EAAIlB,QAAQmE,WAAW,MAC5BwB,aAAa,EAAG,EAAGrC,EAAOkB,GACrDsD,EAA2B,IAAIC,YAAYF,EAAU3E,KAAK8E,QAC1DxE,EAAwB,GAErB1H,EAAI,EAAGA,EAAIwH,EAAOxH,IACzB,IAAK,IAAIE,EAAI,EAAGA,EAAIwI,EAAQxI,IAAK,CAE/B,IAAIqF,EAAQyG,EAAY9L,EAAIsH,EAAQxH,GAChCuF,GACFmC,EAAUiC,KAAK,IAAItE,EAAS,CAC1BE,MAAO,GAAGA,EACVvF,GAAI,EACJE,GAAI,EACJsF,GAAIxF,EACJyF,GAAIvF,KAKZ,OAAOwH,IAwBHyE,EAAqB,SAACC,EAAsBvE,EAAoBwE,GACpExE,EAAS/B,SAAWE,KAAKsF,IAAoB,KAAhBtF,KAAKgC,SAAkB,OAIhDsE,EAAqB,SAACF,EAAsBvE,EAAoBwE,EAA0B7E,GAC9F,IAAIM,EAAY,CACZ9H,EAAIwH,EAAQ,EAAO4E,EAAUtC,QAAQuC,YAAY7E,MAAQ,GAAMK,EAASrC,GAAKqC,EAAS7H,GACtFE,EAAI2H,EAASpC,GAAM,IAA4B2G,EAAUG,MAAQ,GA5GrD,GA4GgF1E,EAAS3H,GAGnG6H,EAAW/B,KAAKK,KAAKyB,EAAU9H,EAAI8H,EAAU9H,EAAI8H,EAAU5H,EAAI4H,EAAU5H,GACzEoG,EAAQN,KAAKgC,UAAYD,EAAW,EAAI/B,KAAKsF,IAAIvD,EAAW,EAAG,GAAKA,IAE1ED,EAAYzC,EAAS6C,UAAUJ,IACrB9H,EAAI8H,EAAU9H,EAAIsG,EAC5BwB,EAAU5H,EAAI4H,EAAU5H,EAAIoG,EAE5BuB,EAAS7H,GAAK8H,EAAU9H,EACxB6H,EAAS3H,GAAK4H,EAAU5H,GAGpBsM,EAAwB,SAACC,EAAqBC,EAAwBC,EAAsBC,GAChGF,EAAYhF,UAAUE,SAAQ,SAACC,GAC7B,IAAM7H,EAAIgG,KAAK6G,MAAMhF,EAAS7H,GACxBE,EAAI8F,KAAK6G,MAAMhF,EAAS3H,GAE1BF,GAAK,GAAKA,EAAI4M,GAAe1M,GAAK,GAAKA,EAAIyM,IAC7CF,EAAOzM,EAAI4M,EAAc1M,IAAM2H,EAAStC,MAEpCmH,EAAY5C,QAAQgD,IACtBJ,EAAY5C,QAAQgD,EAClBJ,EACA7E,EACA6E,EAAY5C,QAAQuC,YACpBO,GAEF/E,EAASkF,eAMXC,EAAe,SAAC5H,EAA6BgH,GAEjD,IAAM5E,EAAQpC,EAAIlB,QAAQsD,MAE1B4E,EAAUtC,QAAQgD,EAAIR,EACtBF,EAAU1E,UAAUE,SAAQ,SAACC,GAC3BA,EAASnC,GAAK,EACdmC,EAASlC,GAAK,EACdkC,EAAS/B,QAAU,EACnB+B,EAAS7H,EAAa,GAARwH,EACdK,EAAS3H,EAzJK,OAsKL+M,GAAkB,WAC7B,IAAMlL,EAAkB0B,aAAY,SAACrB,GAAD,OAAsBA,EAAMS,OAAOd,UACjEE,EAAsBwB,aAAY,SAACrB,GAAD,OAAsBA,EAAMS,OAAOZ,eACrEwG,EAAoC9E,iBAA0B,MAHjC,EAISC,mBAAsB,IAJ/B,mBAI5BsJ,EAJ4B,KAIZC,EAJY,OAKmBvJ,mBAAiB,GALpC,mBAK5BwJ,EAL4B,KAKPC,EALO,KAOnC/N,qBAAU,WACR,GAAsB,IAAlByC,EAAOW,OAAX,CAGA,IAAM0E,EA7Je,SAAChC,EAA6BrD,GAErD,IAAMwH,EAAenE,EAAIlB,QAAQsF,WAAWC,wBAEtCrB,EAAgChD,EAAIlB,QAAQmE,WAAW,MAE7DjD,EAAIlB,QAAQsD,MAAQ+B,EAAI/B,MAExBpC,EAAIlB,QAAQwE,OAASa,EAAIb,OAGzB,IAAMlB,EAAgB+B,EAAI/B,MAEpBkB,EAAiBa,EAAIb,OAM3B,OAJAN,EAAIE,UAAY,UAChBF,EAAIkF,KAAJ,UApCgB,GAoChB,gBACAlF,EAAImF,aAAe,SAEZxL,EAAOjC,KAAI,SAAC0N,EAAc1I,GAC/B,IAAIuH,EAA2BjE,EAAIqF,YAAYD,EAAMvI,OAKrD,OAJAmD,EAAIsF,SAASF,EAAMvI,MACjB,EACAe,KAAK6G,MAAMc,KAA2B7I,EAAM,IA1BxB,SAACD,EAAa6C,EAAuB2E,EAA0B9H,GAA/D,MACxB,CAACgI,MAAO1H,EAAK6C,UAAWA,EAAWoC,QAAS,CAACuC,YAAaA,GAAcpH,MAAOV,GA2BtEqJ,CACL9I,EACAgH,EAAoB1G,EAAKoC,EAAOkB,GAChC2D,EACAmB,EAAMvI,UAgIkB4I,CAAiBpF,EAAW1G,GACtDoL,EAAkB/F,GAClB4F,EAAavE,EAAWrB,EAAK,IApGjB,SAAV0C,EAAW1E,EAA6BgH,GAE5C,IAAM5E,EAAQpC,EAAIlB,QAAQsD,MAEpBkB,EAAStD,EAAIlB,QAAQwE,OAGrBN,EAAgChD,EAAIlB,QAAQmE,WAAW,MAC7DD,EAAI2B,UAAU,EAAG,EAAGvC,EAAOkB,GAE3B,IAAMqD,EAAuB3D,EAAI0F,gBAAgBtG,EAAOkB,GAClD+D,EAAuB,IAAIR,YAAYF,EAAU3E,KAAK8E,QAE5DE,EAAUxE,SAAQ,SAAC4F,GACjBhB,EAAsBC,EAAQe,EAAO9E,EAAQlB,MAG/CY,EAAI2F,aAAahC,EAAW,EAAG,GAC/B/B,uBAAsB,kBAAMF,EAAQ1E,EAAKgH,MAmFvCtC,CAAQrB,EAAWrB,MAClB,CAACrF,IAEJ,IAAMiM,EAAY1O,qBAAU,WA1BT,IAACoN,EA2BI,IAAlB3K,EAAOW,QAAgBT,IAAgBmL,IAG3CJ,EAAavE,EAAWyE,EAAejL,KA9BrByK,EA+BLQ,EAAeE,IA9BlBtD,QAAQgD,EAAIX,EAExBO,EAAYhF,UAAUE,SAAQ,SAACC,GAC7BA,EAAS/B,QAAU+B,EAAS3H,EAAI8F,KAAKsF,IAAoB,KAAhBtF,KAAKgC,SAAkB,YA4B/D,CAACoF,EAAqBnL,EAAaiL,IAMtC,OAJA5N,qBAAU,WACR+N,EAAuBpL,KACtB,CAAC+L,EAAW/L,IAGb,yBAAK8C,UAAU,wBACb,yBAAKA,UAAU,oBACb,4BAAQK,IAAKqD,O,6CClNRwF,I,MAAiB,SAAC,GAAmC,IAAlCzG,EAAiC,EAAjCA,MAAOkB,EAA0B,EAA1BA,OAAQnF,EAAkB,EAAlBA,QAC7C,OACE,4BAAQwB,UAAU,mBAAmBxB,QAAS,SAAC3C,GAAD,OAAS2C,EAAQ3C,EAAK,gBAClE,yBAAKZ,EAAE,MAAME,EAAE,MAAMgO,QAAQ,cAAc1G,MAAOA,EAAOkB,OAAQA,GAC/D,uBAAG1D,MAAO,CAACmJ,KAAM,wBACf,0BAAMC,EAAE,k2CCULC,GAAY,WACvB,IAAM5J,EAA4B,CAChC6J,YAAa,QACbC,aAAc,QACdC,WAAY,OAGd,OACE,yBAAKzJ,UAAU,wBAGb,kBAAC0J,GAAA,EAAD,CAAWC,KAfC,GAegB7B,OAAO,EAAMtJ,QAAS,SAAC9C,GAAD,OAAcE,EAAmBF,EAAG,YAGtF,kBAACkO,GAAA,EAAD,CAAqB7L,IAjBb,2BAiB6BkC,MAAOP,EAAYmK,SAAU,kBAACC,GAAA,EAAD,CAAcH,KAlBpE,GAkBqF7B,OAAO,MAGxG,kBAACiC,GAAA,EAAD,CAAoBhM,IApBZ,2BAoB4BkC,MAAOP,EAAYQ,MAnB7C,iBAmBiE2J,SAAU,kBAACG,GAAA,EAAD,CAAaL,KArBtF,GAqBuG7B,OAAO,MAE1H,kBAAC,GAAD,CAAgBrF,MAvBJ,GAuBsBjE,QAAS,SAAC9C,GAAD,OAAcE,EAAmBF,EAAG,oBCoGtEuO,I,MA7EU,WACvB,IAAMC,EAAoBxL,aAAY,SAACrB,GAAD,OAAsBA,EAAMS,OAAOb,gBACnED,EAAkB0B,aAAY,SAACrB,GAAD,OAAsBA,EAAMS,OAAOd,UACjEE,EAAsBwB,aAAY,SAACrB,GAAD,OAAsBA,EAAMS,OAAOZ,eACrEkJ,EAA0C1H,aAAY,SAACrB,GAAD,OAAsBA,EAAMS,OAAOjB,cACzFC,EAAmC4B,aAAY,SAACrB,GAAD,OAAsBA,EAAMS,OAAOhB,iBAClFkB,EAAWS,cACXX,EA5BoB,WAC1B,IAAME,EAAWS,cADoB,EAETI,mBAAc,MAFL,mBAE9Bf,EAF8B,KAEtBqM,EAFsB,KAGrC,IAAKrM,EAAQ,CACX,IAAMA,EAAS,IAAIsM,IARG,oCASlBC,GAAgB,EAEpBvM,EAAOwM,MAAMC,YAAc,YAC3BzM,EAAO0M,GAAG,cAAc,SAACC,GACvB,IAAMC,EAAoB5M,EAAOwM,MAAMK,YAAc7M,EAAOwM,MAAMM,SAAY,IAC1EF,IAAaL,IACfrM,EAASb,EAAeW,EAAOwM,MAAMK,YAAc7M,EAAOwM,MAAMM,SAAY,KAAO,IACnFP,EAAOK,MAGXP,EAAUrM,GAGZ,OAAOA,EAUQ+M,GAPc,EAQehM,mBAAyB,CAAC5D,EAAG,EAAGE,EAAG,EAAGE,EAAG,EAAGE,EAAG,IAR9D,mBAQtB0D,EARsB,KAQNC,EARM,KAW7B7C,IAAGyO,WAAW,CACZvO,UArCsB,qCAwCxBhC,qBAAU,WTmBe,IAAC4B,EAAgBC,ESlBnC8N,GACHlM,GTiBsB7B,ESzDD,WTyDiBC,ES3DlB,mCT2DC,uCAAgD,WAAM4B,GAAN,eAAAC,EAAA,+EAE3C/B,EAAWC,EAAQC,GAFwB,OAGvEY,GADIA,EAFmE,QAGvDjC,KAAI,SAACyE,GACnB,OAAO,2BACFA,GADL,IAEEI,YAAaJ,EAAEI,YAAcJ,EAAEI,YAAYmL,QAAQ,SAAU,aAAe,UAIhF/M,EAASR,EAAiBR,IAV6C,gDAYvEgB,EAASP,EAAiB,KAAIuN,aAZyC,yDAAhD,0DSftB,CAAChN,EAAUkM,IAEd3P,qBAAU,WACR,GAAIuC,GAAmC,SAAlBA,EACnB,OAAOA,GACL,IAAK,WACL,IAAK,OACsB,YAArBsJ,GACFpI,EAASH,EAAmBC,EAAQd,EAAOE,GAAa+N,aAE1D,MACF,IAAK,OACHjN,EAASH,EAAmBC,EAAQd,EAAOE,GAAa+N,aACxD,MACF,IAAK,QACHjN,EAASH,EAAmBC,OAGjC,CAACE,EAAUlB,EAAegB,EAAQd,EAAQE,EAAakJ,IAE1D7L,qBACE,WACE,GAAyB,YAArB6L,EAAgC,CAClC,IAAM8E,EAAQC,aAAY,kBAAMnN,EAASN,EAAe,WAA+B,KACvF,OAAO,kBAAM0N,cAAcF,OAG/B,CAAC9E,IAGHhM,EAAkB,CAAC,UAAW8E,GAE9B,IAAMG,EAAgC,CACpCgM,UAAU,SAAD,OAAWpK,KAAKsF,IAAI,EAAG,EAAKtH,EAAe9D,EAAI,KAA/C,MAGX,OAAO,yBAAK6E,UAAU,oBACpB,yBAAKA,UAAU,2BAA2BC,MAAOZ,GAC/C,kBAAC,EAAD,CAAkBoD,MAAO3H,OAAOQ,WAAYqI,OAAQ7I,OAAOU,YAAauC,IAAK,0BAC7E,yBAAKiC,UAAU,kBAAf,YACA,yBAAKA,UAAU,gBACb,kBAAC,EAAD,MACA,kBAAC,GAAD,MACA,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,mBACf,yBAAKA,UAAU,wBAQrB,kBAAC,EAAD,CAAWxB,QAAS,SAAC9C,GAAD,OAAOwJ,QAAQC,IAAI,kBACvC,kBAAC,GAAD,S,SC3HWmG,GANKC,aAAgB,CAClCzN,OAAQ0N,ICeKC,OAfDC,YAAe,CAC3BC,QAASL,K,MCITM,IAASC,OACP,kBAAC,IAAD,CAAUJ,MAAOA,IACf,kBAAC,GAAD,OAEFK,SAASC,eAAe,W","file":"static/js/main.143d9409.chunk.js","sourcesContent":["import { useEffect} from 'react';\n\nimport { from,  fromEvent, Subscription } from 'rxjs';\nimport { map, mergeMap} from 'rxjs/operators';\n\nimport { ScrollPosition } from 'interfaces/index';\n\nexport const useScrollPosition = (types: string[], callBack: (y: ScrollPosition) => void) => {\n  useEffect(() => {\n    const sub: Subscription = from(types)\n      .pipe(\n        mergeMap((eventType: string) => fromEvent(window, eventType)),\n        map((event: Event): ScrollPosition => ({\n          x: window.pageXOffset,\n          y: window.pageYOffset,\n          w: window.innerWidth,\n          h: window.innerHeight\n        }))\n      )\n      .subscribe((e: ScrollPosition) => callBack(e));\n\n    return () => {\n      sub.unsubscribe();\n    };\n  }, [types, callBack]);\n};\n","const SOUNDCLOUD_ARTIST_URL = 'https://soundcloud.com/fantarka';\nexport const rgbToString = (r: number, g: number, b: number, a: number): string => {\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n};\n\nexport const handleOnShareEvent = (evt: any, type: string) => {\n  switch (type) {\n    case 'sound-cloud':\n      window.open(SOUNDCLOUD_ARTIST_URL, '_blank');\n      return;\n    case 'email':\n      window.location.href = 'mailto:fantarkamusic@gmail.com?subject=Fantarka Music';\n      return;\n  }\n};\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit'\n\nimport SC from 'soundcloud';\n\nimport { AppThunk } from 'store/store'\nimport { Track, PlayerControlType, AudioStateType } from 'interfaces/index';\n\ninterface PlayerState {\n  audioState: AudioStateType;\n  controlAction: PlayerControlType;\n  error: string | null;\n  tracks: Track[];\n  tracksLoaded: boolean;\n  trackActive: number;\n  trackProgress: number;\n}\n\nconst loadTracks = (userId: string, clientId: string): Promise<Track[]> => {\n  return SC.get(`/users/${userId}/tracks/`, {\n    client_id: clientId,\n    limit: 100\n  });\n};\n\nconst loadTracksFailed = (state: PlayerState, action: PayloadAction<string>) => {\n  state.error = action.payload;\n};\n\nconst playerInitialState: PlayerState = {\n  audioState: 'stopped',\n  controlAction: 'idle',\n  error: null,\n  tracks: [],\n  tracksLoaded: false,\n  trackActive: 0,\n  trackProgress: 0,\n};\n\nconst playerSlice = createSlice({\n  name: 'player',\n  initialState: playerInitialState,\n  reducers: {\n    audioState(state: PlayerState, action: PayloadAction<AudioStateType>) {\n      state.audioState = action.payload;\n    },\n    getTracksSuccess(state, { payload }: PayloadAction<Track[]>) {\n      state.error = null;\n      state.tracks = payload;\n      state.tracksLoaded = true;\n    },\n    getTracksFailure: loadTracksFailed,\n    playerControls(state: PlayerState, action: PayloadAction<PlayerControlType>) {\n      switch (action.payload) {\n        case 'previous':\n          state.trackActive = state.trackActive - 1 > -1 ? state.trackActive - 1 : state.tracks.length -1;\n          break;\n        case 'next':\n          state.trackActive = state.tracks.length > state.trackActive + 1 ? state.trackActive + 1  : 0;\n          break;\n      }\n      state.controlAction = action.payload;\n    },\n    trackActive(state: PlayerState, action: PayloadAction<number>) {\n      state.trackActive = action.payload;\n    },\n    trackProgress(state: PlayerState, action: PayloadAction<number>) {\n      state.trackProgress = action.payload;\n    }\n  }\n});\n\nexport const {\n  getTracksSuccess,\n  getTracksFailure,\n  audioState,\n  playerControls,\n  trackActive,\n  trackProgress\n} = playerSlice.actions;\n\nexport default playerSlice.reducer;\n\nexport const audioPlayPlayTrack = (player: any, url?: string): AppThunk => async dispatch => {\n  let state: AudioStateType = 'stopped';\n  if (!url) {\n    player.pause();\n  } else {\n    state = await player\n      .play({streamUrl: url})\n      .then((v: any) => 'playing', (v: any) => 'stopped');\n  }\n  dispatch(audioState(state));\n}\n\nexport const fetchTracks = (userId: string, clientId: string): AppThunk => async dispatch => {\n  try {\n    let tracks: Track[] = await loadTracks(userId, clientId);\n    tracks = tracks.map((t: Track) => {\n      return {\n        ...t,\n        artwork_url: t.artwork_url ? t.artwork_url.replace('-large', '-t500x500') : null,\n      };\n    });\n\n    dispatch(getTracksSuccess(tracks));\n  } catch (err) {\n    dispatch(getTracksFailure(err.toString()))\n  }\n};\n","import React, {\n  useEffect,\n  useState,\n  CSSProperties,\n  useRef\n} from 'react'\nimport {\n  useDispatch,\n  useSelector,\n} from 'react-redux'\n\nimport { RootState } from 'store/root-reducer'\nimport { useScrollPosition } from 'components/effects/scroll';\nimport { ScrollPosition, Track } from 'interfaces/index';\nimport { handleOnShareEvent } from 'lib/utils';\nimport {\n  playerControls,\n  trackActive\n} from 'components/player/player-slice';\nimport './track-list.scss';\n\ninterface TrackListProps {\n  onClick: (e: any) => void;\n}\n\nexport const TrackList = ({onClick }: TrackListProps) => {\n  const dispatch = useDispatch();\n\n  const tracks: Track[] = useSelector((state: RootState) => state.player.tracks);\n  const refTrackDesc = useRef<HTMLDivElement>(null);\n  const [trackDescHeight, setTrackDescHeight] = useState<number>(0);\n  const refTrackList = useRef<HTMLDivElement>(null);\n  const [scrollPosition, setScrollPosition] = useState<ScrollPosition>({x: 0, y: 0, w: 0, h: 0});\n\n  useScrollPosition(['scroll'], setScrollPosition);\n\n  // @ts-ignore\n  useEffect(() => setTrackDescHeight(refTrackDesc.current.clientHeight), []);\n\n  const containerStyle: CSSProperties = {\n    opacity: `${((trackDescHeight - (scrollPosition.y - scrollPosition.h * 0.4)) / trackDescHeight)}`, //`${Math.max(1, s)})`,\n  };\n\n  const handleOnClickEvent = (idx: number) => {\n    dispatch(playerControls('play'))\n    dispatch(trackActive(idx));\n  }\n\n  const renderedTracks = tracks.map((t: Track, i: number) => {\n    const imageStyle: CSSProperties = {\n      background: 'url(' + t.artwork_url + ') no-repeat center center',\n      backgroundSize: 'cover',\n    };\n\n    return <div key={i}  onClick={() => handleOnClickEvent(i)} className=\"track-container\">\n      {(() => {\n        if (t.artwork_url) {\n          return (<div className=\"container-image\">\n            <div className=\"image\" style={imageStyle}></div>\n          </div>)\n        } else {\n          return (<div className=\"container-image\"/>)\n        }\n      })()}\n      <div className=\"container-info\">\n        <div className=\"title\">{t.title}</div>\n        <div className=\"description\">{t.description}</div>\n      </div>\n    </div>\n  });\n\n  return <div id='container' className=\"scroll-container-tracks\" ref={refTrackList}>\n    <div className=\"tracks-description\" ref={refTrackDesc} style={containerStyle}>\n      <h1>About</h1>\n      <p>Originally from the UK, Fantarka is a Washington D.C. based EDM producer encompassing trance, house and ambient tracks.\n      </p>\n      <p>Also provides customised tracks to clients including national television networks.\n      </p>\n      <div className=\"description-separator\"></div>\n      <p>Contact us at <span onClick={() => handleOnShareEvent(null, 'email')} className='description-contact'>fantarkamusic@gmail.com</span> for purchasing from our library or customized tracks.\n      </p>\n    </div>\n    <div className=\"track-list-container\" >{renderedTracks}</div>\n  </div>\n}\n","export interface ParticleProps {\n  color: string;\n  x: number;\n  y: number;\n  hx: number;\n  hy: number;\n  // vx: number;\n  // vy: number;\n  // mass: number;\n  // friction: number;\n  // gravity: number;\n}\n\nexport interface ParticlePos {\n  x: number, y: number\n}\n\nexport class Particle {\n  public color: string;\n  public x: number;\n  public y: number;\n  public hx: number;\n  public hy: number;\n  public vx: number;\n  public vy: number;\n  public mass: number;\n  public friction: number;\n  public gravity: number;\n\n  constructor(props: ParticleProps) {\n    let speed = 1.5;// / 2, 10\n    this.color = props.color;\n    this.x = props.x;\n    this.y = props.y;\n    this.hx = props.hx;\n    this.hy = props.hy;\n    this.vx = 0; //Math.cos(Math.PI / 2) * speed;\n    this.vy = Math.sin(Math.PI / 2) * speed;\n    this.mass = 1;\n    this.friction = 1;\n    this.gravity = 0 / -Math.PI / 2;//properties.gravity || 0;\n  }\n\n  update() {\n    this.vx *= this.friction;\n    this.vy *= this.friction;\n    this.vy += this.gravity;\n    this.x += this.vx;\n    this.y += this.vy;\n  }\n\n  static lerp (v1: ParticlePos, v2: ParticlePos, alpha: number) {\n    v1.x += ( v2.x - v1.x ) * alpha;\n    v1.y += ( v2.y - v1.y ) * alpha;\n  }\n\n  static normalize(p: ParticlePos) {\n    const m = Math.sqrt(p.x * p.x + p.y * p.y);\n    if (m > 0) {\n      p.x = p.x / m;\n      p.y = p.y / m;\n    }\n    return p;\n  }\n\n  add(v: ParticlePos) {\n    return {x: this.x + v.x, y: this.y + v.y};\n  }\n\n  sub(v: ParticlePos) {\n    return {x: this.x - v.x, y: this.y - v.y};\n  }\n\n  static divide(v1: ParticlePos, v2: ParticlePos) {\n    return {x: v1.x / v2.x, y: v1.y / v2.y };\n  }\n\n  static multiply(v1: ParticlePos, v2: ParticlePos) {\n    return {x: v1.x * v2.x, y: v1.y * v2.y};\n  }\n\n  // magnitude\n  distanceTo(v: ParticlePos) {\n    const dx = this.x - v.x,\n      dy = this.y - v.y;\n\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n\n  magnitude(v: ParticlePos) {\n    return Math.sqrt(v.x * v.x + v.y * v.y);\n  }\n\n  getSpeed () {\n    return Math.sqrt(this.vx * this.vx + this.vy * this.vy);\n  }\n\n  setSpeed(speed: number) {\n    const heading = this.getHeading();\n    this.vx = Math.cos(heading) * speed;\n    this.vy = Math.sin(heading) * speed;\n  }\n\n  getHeading() {\n    return Math.atan2(this.vy, this.vx);\n  }\n\n  setHeading(heading: number) {\n    const speed = this.getSpeed();\n    this.vx = Math.cos(heading) * speed;\n    this.vy = Math.sin(heading) * speed;\n  }\n\n  accelerate(ax: number, ay: number) {\n    this.vx += ax;\n    this.vy += ay;\n  }\n\n  ease(v: ParticlePos) {\n    let dx = v.x - this.x,\n      dy = v.y - this.y;\n\n    this.vx = dx * 0.05;\n    this.vy = dy * 0.05;\n  }\n\n  angleTo(p: ParticlePos) {\n    return Math.atan2(p.y - this.y, p.x - this.x);\n  }\n\n  // rejection (p: ParticleProps) {\n  //   let dx = this.x - p.x,\n  //     dy = this.y - p.y,\n  //     distance = Math.sqrt(dx * dx + dy * dy),\n  //     force = (1 * this.mass * p.mass * (p.mass === 10 ? 1 : -1)) / (distance * distance),\n  //     ax = dx / distance * force,\n  //     ay = dy / distance * force;\n  //\n  //   if (ax >= 0.001 || ax <= -0.001 || ay >= 0.001 || ay <= -0.001) {\n  //     this.vx += ax;\n  //     this.vy += ay;\n  //   } else {\n  //     this.vx = 0;\n  //     this.vy = 0;\n  //     if (p.mass <= 10) {\n  //       this.ease({x: this.hx, y: this.hy});\n  //     }\n  //   }\n  // }\n}\n","import React, {\n  useEffect,\n  useRef,\n  useState,\n  Ref\n} from 'react';\n\nimport { Particle, rgbToString } from 'lib/index';\nimport { useScrollPosition } from 'components/effects/scroll';\nimport { ScrollPosition } from 'interfaces/index';\nimport './player-background.scss';\n\nconst SPACING = 4;\n\nconst loadBackgroundImage = (url: string): Promise<HTMLImageElement> => {\n  const image: HTMLImageElement = new Image();\n  const promise = new Promise<HTMLImageElement>((fulfill, fail) => {\n    image.onload = () => fulfill(image);\n    image.onerror = (...err) => fail(err);\n  });\n\n  image.src = url;\n\n  return promise;\n};\n\nconst getPixelColor = (data: ImageData, x: number, y: number): string => {\n  let idx = ((data.width * y) + x) * 4;\n  return rgbToString(data.data[idx], data.data[idx + 1], data.data[idx + 2], data.data[idx + 3]);\n}\n\nconst createParticles = (ref: Ref<HTMLCanvasElement>, data: ImageData): Particle[] => {\n  const particles: Particle[] = [];\n  // @ts-ignore\n  // @ts-ignore\n  let width = ref.current.width;\n  // @ts-ignore\n  let height = ref.current.height;\n\n  for (let x = 0; x < width / 4; x += 1) {\n    for (let y = 0; y < height / 4; y += 1) {\n      particles.push(new Particle({\n        color: getPixelColor(data, x, y),\n        x: width / 2,\n        y: height / 2,\n        hx: x * SPACING,\n        hy: y * SPACING,\n      }));\n    }\n  }\n  return particles\n};\n\nconst animate = (ref: Ref<HTMLCanvasElement>, particles: Particle[], isLoading: boolean): void => {\n  if (isLoading) {\n    // @ts-ignore\n    const ctx: CanvasRenderingContext2D = ref.current.getContext('2d');\n    // @ts-ignore\n    ctx.clearRect(0, 0, ref.current.width, ref.current.height);\n\n    if (animateInitial(ref, particles)) {\n      requestAnimationFrame(() => animate(ref, particles, true));\n    }\n  }\n}\n\nconst animateInitial = (ref: Ref<HTMLCanvasElement>, particles: Particle[]): boolean => {\n  let isLoading = true;\n  particles.forEach((particle: Particle) => {\n    let direction = {x: particle.hx - particle.x, y: particle.hy - particle.y},\n      distance = Math.sqrt(direction.x * direction.x + direction.y * direction.y),\n      speed = Math.random() * (distance > 1 ? Math.min(distance, 100) : distance);\n\n    direction = Particle.normalize(direction);\n    direction.x = direction.x * speed;\n    direction.y = direction.y * speed;\n\n    particle.x += direction.x;\n    particle.y += direction.y;\n\n    isLoading = distance > 0;\n\n    drawParticle(ref, particle);\n  });\n  return isLoading;\n}\n\nconst drawParticle = (ref: Ref<HTMLCanvasElement>, particle: Particle) => {\n  // @ts-ignore\n  const ctx: CanvasRenderingContext2D = ref.current.getContext('2d');\n  const particleSize = 2;\n  ctx.fillStyle = particle.color;\n  ctx.fillRect(particle.x, particle.y, particleSize, particleSize);\n}\n\ninterface PlayerBackgroundProps {\n  url: string;\n  width: number;\n  height: number;\n}\n\nexport const PlayerBackground = ({url, width, height}: PlayerBackgroundProps) => {\n  const canvasRef: Ref<HTMLCanvasElement> = useRef<HTMLCanvasElement>(null);\n  const [scrollPosition, setScrollPosition] = useState<ScrollPosition>({x: 0, y: 0, w: 0, h: 0});\n\n  useScrollPosition(['resize'], setScrollPosition);\n\n  useEffect(() => {\n    loadBackgroundImage(url)\n      .then((img: HTMLImageElement) => {\n          // @ts-ignore\n          const box = canvasRef.current.parentNode.getBoundingClientRect();\n          // @ts-ignore\n          canvasRef.current.width = box.width;\n          // @ts-ignore\n          canvasRef.current.height = box.height;\n          // @ts-ignore\n          let width = box.width / 4;\n          // @ts-ignore\n          let height = box.height / 4;\n          // @ts-ignore\n          const ctx: CanvasRenderingContext2D = canvasRef.current.getContext('2d');\n          ctx.drawImage(img, 0, 0, width, height);\n          const particles: Particle[] = createParticles(canvasRef, ctx.getImageData(0, 0, width, height));\n          animate(canvasRef, particles, true);\n        },\n        (err) => console.log('Error loading image:', err)\n      );\n  }, [url]);\n\n  useEffect(() => {\n    const img: HTMLImageElement = new Image();\n    img.onload = () => {\n      // @ts-ignore\n      canvasRef.current.width = scrollPosition.w;\n      // @ts-ignore\n      canvasRef.current.height = scrollPosition.h;\n      // @ts-ignore\n      const ctx: CanvasRenderingContext2D = canvasRef.current.getContext('2d');\n      ctx.drawImage(img, 0, 0, img.width, img.height, 0, 0, scrollPosition.w, scrollPosition.h);\n    }\n    // @ts-ignore\n    img.src = canvasRef.current.toDataURL();\n\n  }, [scrollPosition]);\n\n  return (\n    <div className='player-background-image'>\n      <canvas ref={canvasRef}/>\n    </div>);\n};\n","import React, { useState } from 'react';\n\nimport {\n  FontAwesomeIcon,\n} from '@fortawesome/react-fontawesome';\n\nimport { faPlay, faPause, faStepForward, faStepBackward, faAngleLeft, faAngleRight, faLongArrowAltDown } from '@fortawesome/free-solid-svg-icons';\n\nimport './control-button.scss';\n\nexport type ControlsType =  'backward' | 'down' | 'forward' | 'play' | 'pause' | 'previous' | 'next';\ninterface ControlButtonType {\n  iconType: ControlsType;\n  onClick: (t: ControlsType) => void;\n}\ntype ControlButtonState = {\n  active: boolean\n};\n\nconst icon = (i: ControlsType)  => {\n  switch(i) {\n    case 'forward':\n      return faStepForward;\n    case 'backward':\n      return faStepBackward;\n    case 'play':\n      return faPlay;\n    case 'pause':\n      return faPause;\n    case 'previous':\n      return faAngleLeft;\n    case 'next':\n      return faAngleRight;\n    case 'down':\n      return faLongArrowAltDown;\n  }\n}\n\nexport const ControlButton = ({iconType, onClick}: ControlButtonType) => {\n  const [active, setActive] = useState(false);\n  return (\n    <button className='control-button'\n            onClick={() => {\n              setActive(true);\n              onClick(iconType);\n            }}\n            onAnimationEnd={() => {\n              setActive(false);\n            }}>\n      {<div className={active ? 'control-button-ripple active' : 'control-button-ripple'}/>}\n      <FontAwesomeIcon icon={icon(iconType)} color=\"white\"/>\n    </button>\n  );\n}\nexport default ControlButton;\n","import React from 'react';\nimport {\n  useDispatch,\n  useSelector\n} from 'react-redux';\n\nimport Slider from 'rc-slider';\nimport 'rc-slider/assets/index.css';\nimport { PlayerControlType, AudioStateType } from 'interfaces/index';\n\nimport { RootState } from 'store/root-reducer';\nimport { ControlButton, ControlsType } from 'components/control-button/control-button';\nimport { playerControls, trackProgress } from 'components/player/player-slice';\nimport './player-controls.scss';\n\nexport const PlayerControls = () => {\n  const dispatch = useDispatch();\n  const activeTrackProgress: number = useSelector((state: RootState) => state.player.trackProgress);\n  const activeAudioState: AudioStateType | null = useSelector((state: RootState) => state.player.audioState);\n\n  const handleOnClickEvent = (t: ControlsType) => {\n    let c: PlayerControlType | null = null;\n    switch(t) {\n      case 'previous':\n        c = t;\n        break;\n      case 'pause':\n        c = t;\n        break;\n      case 'play':\n        c = t;\n        break;\n      case 'next':\n        c = t;\n        break;\n    }\n    if (!c) {\n      return;\n    }\n    dispatch(playerControls(c))\n  };\n\n  const handleSliderEvent = (p: number) => {\n    dispatch(trackProgress(p));\n  };\n\n  return <div className='player-controls'>\n    <div className='controls-buttons'>\n      <ControlButton iconType={'previous'} onClick={handleOnClickEvent}/>\n      <ControlButton\n        iconType={activeAudioState === 'playing' ? 'pause' : 'play'}\n        onClick={handleOnClickEvent}/>\n      <ControlButton iconType={'next'} onClick={handleOnClickEvent}/>\n    </div>\n    <div className={`controls-progress ${activeAudioState === 'playing' || activeAudioState === 'paused' ? 'active' : ''}`}>\n      <Slider\n        min={0}\n        max={100}\n        defaultValue={10}\n        step={0.00001}\n        value={activeTrackProgress}\n        handleStyle={{\n          borderColor: 'white',\n          height: 12,\n          width: 12,\n          backgroundColor: 'white',\n        }}\n        onChange={handleSliderEvent}/>\n    </div>\n  </div>;\n}\n","import React, {\n  Ref,\n  useEffect,\n  useRef,\n  useState\n} from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n  Track\n} from \"../../interfaces\";\nimport { Particle } from '../../lib/Particle';\n\nimport { RootState } from 'store/root-reducer';\n\nimport './player-track-name.scss';\nconst TEXT_SIZE = 23,\n  TEXT_SPACE = 15,\n  TEXT_TOP_OFFSET = TEXT_SIZE;\n\ninterface TrackData {\n  title: string;\n  index: number,\n  particles: Particle[],\n  animate: {\n    f?: (\n      trackData: TrackData,\n      particle: Particle,\n      textMetrics: TextMetrics,\n      width: number) => void, textMetrics: TextMetrics\n  },\n}\n\nconst createTrackObject = (key: number, particles: Particle[], textMetrics: TextMetrics, t: string): TrackData => (\n  {index: key, particles: particles, animate: {textMetrics: textMetrics}, title: t});\n\nconst initializeCanvas = (ref: Ref<HTMLCanvasElement>, tracks: Track[]): TrackData[] => {\n  // @ts-ignore\n  const box: DOMRect = ref.current.parentNode.getBoundingClientRect();\n  // @ts-ignore\n  const ctx: CanvasRenderingContext2D = ref.current.getContext('2d');\n  // @ts-ignore\n  ref.current.width = box.width;\n  // @ts-ignore\n  ref.current.height = box.height;\n\n  // @ts-ignore\n  const width: number = box.width;\n  // @ts-ignore\n  const height: number = box.height;\n\n  ctx.fillStyle = '#f8f8ff';\n  ctx.font = `${TEXT_SIZE}px Syncopate`;\n  ctx.textBaseline = 'middle';\n\n  return tracks.map((track: Track, idx: number): TrackData => {\n    let textMetrics: TextMetrics = ctx.measureText(track.title);\n    ctx.fillText(track.title,\n      0,\n      Math.round(TEXT_SIZE + TEXT_SPACE) * (idx + 1));\n\n    return createTrackObject(\n      idx,\n      createParticleArray(ref, width, height),\n      textMetrics,\n      track.title\n    );\n  });\n}\n\nconst createParticleArray = (ref: Ref<HTMLCanvasElement>, width: number, height: number): Particle[] => {\n  // @ts-ignore\n  const ctx: CanvasRenderingContext2D = ref.current.getContext('2d');\n  const imageData: ImageData = ctx.getImageData(0, 0, width, height);\n  const imageBuffer: Uint32Array = new Uint32Array(imageData.data.buffer);\n  const particles: Particle[] = [];\n\n  for (let x = 0; x < width; x++) {\n    for (let y = 0; y < height; y++) {\n\n      let color = imageBuffer[y * width + x];\n      if (color) {\n        particles.push(new Particle({\n          color: ''+color,\n          x: -1,\n          y: -1,\n          hx: x,\n          hy: y,\n        }));\n      }\n    }\n  }\n  return particles;\n}\n\nconst animate = (ref: Ref<HTMLCanvasElement>, trackData: TrackData[]) => {\n  // @ts-ignore\n  const width = ref.current.width;\n  // @ts-ignore\n  const height = ref.current.height;\n\n  // @ts-ignore\n  const ctx: CanvasRenderingContext2D = ref.current.getContext('2d');\n  ctx.clearRect(0, 0, width, height);\n\n  const imageData: ImageData = ctx.createImageData(width, height);\n  const pixels: Uint32Array  = new Uint32Array(imageData.data.buffer);\n\n  trackData.forEach((track: TrackData) => {\n    animateTrackParticles(pixels, track, height, width);\n  });\n\n  ctx.putImageData(imageData, 0, 0);\n  requestAnimationFrame(() => animate(ref, trackData));\n}\n\nconst animateTrackRemove = (trackData: TrackData, particle: Particle, textMetrics: TextMetrics) => {\n  particle.gravity += Math.max(Math.random() * 0.002, 0.001);\n  //particle.gravity = particle.y * 0.0002;//Math.max(Math.random() * 0.2, 0.1);\n}\n\nconst animateTrackActive = (trackData: TrackData, particle: Particle, textMetrics: TextMetrics, width: number) => {\n  let direction = {\n      x: (width / 2 ) - (trackData.animate.textMetrics.width / 2) + (particle.hx - particle.x),\n      y: (particle.hy - ((TEXT_SIZE + TEXT_SPACE) * (trackData.index + 1))) + (TEXT_TOP_OFFSET) - particle.y\n      //y: (particle.hy - ((TEXT_SIZE + TEXT_SPACE) * (trackObject.index + 1))) + (height / 2) - particle.y\n    };\n  const distance = Math.sqrt(direction.x * direction.x + direction.y * direction.y );\n  const speed = Math.random() * (distance > 1 ? Math.max(distance / 2, 5) : distance);\n\n  direction = Particle.normalize(direction);\n  direction.x = direction.x * speed;\n  direction.y = direction.y * speed;\n\n  particle.x += direction.x;\n  particle.y += direction.y;\n}\n\nconst animateTrackParticles = (pixels: Uint32Array, trackObject: TrackData, canvasHeight: number, canvasWidth: number) => {\n  trackObject.particles.forEach((particle) => {\n    const x = Math.round(particle.x);\n    const y = Math.round(particle.y);\n\n    if (x >= 0 && x < canvasWidth && y >= 0 && y < canvasHeight) {\n      pixels[x + canvasWidth * y] = +particle.color;\n\n      if (trackObject.animate.f) {\n        trackObject.animate.f(\n          trackObject,\n          particle,\n          trackObject.animate.textMetrics,\n          canvasWidth);\n\n        particle.update();\n      }\n    }\n  });\n}\n\nconst setTrackNext = (ref: Ref<HTMLCanvasElement>, trackData: TrackData) => {\n  // @ts-ignore\n  const width = ref.current.width;\n\n  trackData.animate.f = animateTrackActive;\n  trackData.particles.forEach((particle: Particle) => {\n    particle.vx = 0;\n    particle.vy = 0;\n    particle.gravity = 0;\n    particle.x = (width * 0.5);\n    particle.y = TEXT_TOP_OFFSET;\n  });\n}\n\nconst setTrackIdle = (trackObject: TrackData) => {\n  trackObject.animate.f = animateTrackRemove;\n\n  trackObject.particles.forEach((particle: Particle) => {\n    particle.gravity = particle.y * Math.max(Math.random() * 0.003, 0.001);\n    //particle.vy += 0.005;\n  });\n}\n\nexport const PlayerTrackName = () => {\n  const tracks: Track[] = useSelector((state: RootState) => state.player.tracks);\n  const trackActive: number = useSelector((state: RootState) => state.player.trackActive);\n  const canvasRef: Ref<HTMLCanvasElement> = useRef<HTMLCanvasElement>(null);\n  const [trackParticles, setTrackParticles] = useState<TrackData[]>([]);\n  const [previousTrackActive, setPreviousTrackActive] = useState<number>(0);\n\n  useEffect(() => {\n    if (tracks.length === 0) {\n      return;\n    }\n    const data: TrackData[] = initializeCanvas(canvasRef, tracks);\n    setTrackParticles(data);\n    setTrackNext(canvasRef, data[0]);\n    animate(canvasRef, data);\n  }, [tracks]);\n\n  const nextTrack = useEffect(() => {\n    if (tracks.length === 0 || trackActive === previousTrackActive) {\n      return;\n    }\n    setTrackNext(canvasRef, trackParticles[trackActive]);\n    setTrackIdle(trackParticles[previousTrackActive]);\n  }, [previousTrackActive, trackActive, trackParticles]);\n\n  useEffect(() => {\n    setPreviousTrackActive(trackActive);\n  }, [nextTrack, trackActive]);\n\n  return (\n    <div className='track-name-container'>\n      <div className='container-canvas'>\n        <canvas ref={canvasRef}/>\n      </div>\n    </div>);\n}\n","import React from 'react';\n//style=\"fill:#030104;\"\n\nexport const SoundCloudLogo = ({width, height, onClick}: any) => {\n  return (\n    <button className=\"soundcloud-share\" onClick={(evt) => onClick(evt, 'soundCloud')}>\n      <svg x=\"0px\" y=\"0px\" viewBox='0 0 100 100' width={width} height={height}>\n        <g style={{fill: 'rgba(255, 85, 0, 1)'}}>\n          <path d=\"M3.361,67.281L5,60.279l-1.639-7.238c-0.045-0.215-0.457-0.379-0.959-0.379\nc-0.508,0-0.92,0.164-0.959,0.381L0,60.279l1.443,7.002c0.039,0.217,0.451,0.381,0.959,0.381\nC2.904,67.662,3.316,67.498,3.361,67.281z M13.611,71.168L15,60.348l-1.389-16.74c-0.041-0.426-0.561-0.76-1.191-0.76\nc-0.635,0-1.156,0.334-1.188,0.76L10,60.348l1.232,10.82c0.031,0.422,0.553,0.756,1.188,0.756\nC13.051,71.924,13.57,71.594,13.611,71.168z M23.84,70.99L25,60.354l-1.16-22.287c-0.031-0.523-0.648-0.934-1.404-0.934\nc-0.762,0-1.379,0.41-1.406,0.934L20,60.354l1.029,10.642c0.027,0.519,0.645,0.928,1.406,0.928\nC23.191,71.922,23.809,71.514,23.84,70.99z M34.049,70.832L35,60.355l-0.951-22.449c-0.023-0.621-0.727-1.107-1.6-1.107\nc-0.879,0-1.582,0.486-1.604,1.107L30,60.355l0.85,10.475c0.018,0.615,0.721,1.102,1.6,1.102\nC33.322,71.932,34.025,71.453,34.049,70.832z M44.248,70.699L45,60.359l-0.752-25.74c-0.016-0.707-0.818-1.281-1.787-1.281\nc-0.971,0-1.771,0.576-1.787,1.281L40,60.352c0,0.017,0.674,10.349,0.674,10.349c0.016,0.698,0.816,1.272,1.787,1.272\nC43.43,71.973,44.232,71.406,44.248,70.699z M51.391,71.98C51.424,71.982,86.883,72,87.114,72C94.232,72,100,66.42,100,59.537\nc0-6.885-5.768-12.465-12.887-12.465c-1.766,0-3.449,0.348-4.984,0.969C81.104,36.811,71.363,28,59.484,28\nc-2.906,0-5.742,0.553-8.244,1.488c-0.972,0.366-1.232,0.739-1.24,1.467v39.553C50.01,71.27,50.621,71.906,51.391,71.98z\"/>\n        </g>\n      </svg>\n    </button>\n  );\n};\n","import React, { CSSProperties } from 'react';\nimport {\n  EmailIcon,\n  FacebookShareButton,\n  FacebookIcon,\n  TwitterShareButton,\n  TwitterIcon\n} from 'react-share';\nimport './social-bar.scss';\n\nimport { SoundCloudLogo } from 'icons/soundcloud-icon';\n\nimport { handleOnShareEvent } from 'lib/utils';\n\nconst ICON_SIZE = 32,\n  SHARE_URL = 'http://www.fantarka.com/',\n  SHARE_TITLE = 'Fantarka Music';\n\nexport const SocialBar = () => {\n  const imageStyle: CSSProperties = {\n    paddingLeft: '0.5em',\n    paddingRight: '0.5em',\n    paddingTop: '1px',\n  };\n\n  return (\n    <div className='social-bar-container'>\n      {/*\n        // @ts-ignore */}\n      <EmailIcon size={ICON_SIZE} round={true} onClick={(e: Event) => handleOnShareEvent(e, 'email')}/>\n      {/*\n        // @ts-ignore */}\n      <FacebookShareButton url={SHARE_URL} style={imageStyle} children={<FacebookIcon size={ICON_SIZE} round={true}/>}/>\n      {/*\n        // @ts-ignore */}\n      <TwitterShareButton url={SHARE_URL} style={imageStyle} title={SHARE_TITLE} children={<TwitterIcon size={ICON_SIZE} round={true}/>}/>\n      {/*  <TwitterIcon size={ICON_SIZE} round logoFillColor={ICON_COLOR}/>*/}\n      <SoundCloudLogo width={ICON_SIZE} onClick={(e: Event) => handleOnShareEvent(e, 'sound-cloud')}/>\n    </div>);\n};\n","import React, {\n  CSSProperties,\n  useEffect,\n  useState\n} from 'react'\nimport {\n  useDispatch,\n  useSelector\n} from 'react-redux'\n\nimport SC from 'soundcloud';\nimport SoundCloudAudio from 'soundcloud-audio';\n\nimport { TrackList } from 'components/list/track-list';\nimport { RootState } from 'store/root-reducer';\nimport {\n  Track,\n  PlayerControlType,\n  ScrollPosition,\n  AudioStateType\n} from 'interfaces/index';\nimport { useScrollPosition } from 'components/effects/scroll';\nimport { PlayerBackground } from 'components/background/player-background';\nimport { PlayerControls } from 'components/controls/player-controls';\nimport { PlayerTrackName } from 'components/player-track-name/player-track-name';\nimport { SocialBar } from 'components/social-bar/social-bar';\n\nimport {\n  fetchTracks,\n  trackProgress,\n  audioPlayPlayTrack,\n  playerControls,\n} from './player-slice';\nimport './player.scss';\n\nconst SOUNDCLOUD_CLIENT = '904ef8653a4252c494b98c310300b467';\n//const FANTARKA_SECRET = '578b9b29f07344fc61207d551082dd72';\nconst SOUNDCLOUD_USER_ID = '81132380';\n\nconst useSoundCloudPlayer = (): any => {\n  const dispatch = useDispatch();\n  const [player, setPlayer] = useState<any>(null);\n  if (!player) {\n    const player = new SoundCloudAudio(SOUNDCLOUD_CLIENT);\n    let last: number = -1;\n\n    player.audio.crossOrigin = 'anonymous';\n    player.on('timeupdate', (time: number) => {\n      const progress: number = (player.audio.currentTime / player.audio.duration) * 100;\n      if (progress !== last) {\n        dispatch(trackProgress((player.audio.currentTime / player.audio.duration) * 100 || 0));\n        last = progress;\n      }\n    });\n    setPlayer(player);\n  }\n\n  return player;\n};\n\nconst Player: React.FC = () => {\n  const isLoaded: boolean = useSelector((state: RootState) => state.player.tracksLoaded);\n  const tracks: Track[] = useSelector((state: RootState) => state.player.tracks);\n  const trackActive: number = useSelector((state: RootState) => state.player.trackActive);\n  const activeAudioState: AudioStateType | null = useSelector((state: RootState) => state.player.audioState);\n  const controlAction: PlayerControlType = useSelector((state: RootState) => state.player.controlAction);\n  const dispatch = useDispatch();\n  const player = useSoundCloudPlayer();\n  const [scrollPosition, setScrollPosition] = useState<ScrollPosition>({x: 0, y: 0, w: 0, h: 0});\n\n\n  SC.initialize({\n    client_id: SOUNDCLOUD_CLIENT\n  });\n\n  useEffect(() => {\n    if (!isLoaded) {\n      dispatch(fetchTracks(SOUNDCLOUD_USER_ID, SOUNDCLOUD_CLIENT));\n    }\n  }, [dispatch, isLoaded]);\n\n  useEffect(() => {\n    if (controlAction && controlAction !== 'idle') {\n      switch(controlAction) {\n        case 'previous':\n        case 'next':\n          if (activeAudioState !== 'stopped') {\n            dispatch(audioPlayPlayTrack(player, tracks[trackActive].stream_url));\n          }\n          break;\n        case 'play':\n          dispatch(audioPlayPlayTrack(player, tracks[trackActive].stream_url));\n          break;\n        case 'pause':\n          dispatch(audioPlayPlayTrack(player));\n      }\n    }\n  }, [dispatch, controlAction, player, tracks, trackActive, activeAudioState]);\n\n  useEffect(\n    () => {\n      if (activeAudioState === 'stopped') {\n        const timer = setInterval(() => dispatch(playerControls('next' as PlayerControlType)), 5000);\n        return () => clearInterval(timer);\n      }\n    },\n    [activeAudioState]\n  );\n\n  useScrollPosition(['scroll'], setScrollPosition);\n\n  const containerStyle: CSSProperties = {\n    transform: `scale(${Math.max(0, 1 - (scrollPosition.y / 500))})`,\n  };\n\n  return <div className=\"player-container\">\n    <div className=\"container-sticky-content\" style={containerStyle}>\n      <PlayerBackground width={window.innerWidth} height={window.innerHeight} url={'./fantarka-avatar.jpg'}/>\n      <div className=\"content-header\">Fantarka</div>\n      <div className=\"content-main\">\n        <PlayerControls />\n        <PlayerTrackName />\n        <div className=\"container-indicator\">\n          <div className=\"indicator-line\"></div>\n          <div className=\"indicator-sphere\"></div>\n        </div>\n      </div>\n      {/*<div className=\"content-footer\">*/}\n      {/*  <div style={{width: '10px', borderWidth: '2px', borderRightColor: 'green', height: '20px'}}></div>*/}\n      {/*</div>*/}\n    </div>\n\n    <TrackList onClick={(e) => console.log('XXX CLICKED')}/>\n    <SocialBar/>\n  </div>\n}\n\nexport default Player\n","import { combineReducers } from '@reduxjs/toolkit'\n\nimport playerReducer from 'components/player/player-slice';\n\nconst rootReducer = combineReducers({\n  player: playerReducer,\n})\n\nexport type RootState = ReturnType<typeof rootReducer>\n\nexport default rootReducer\n","import { configureStore, Action } from '@reduxjs/toolkit'\nimport { ThunkAction } from 'redux-thunk'\n\nimport rootReducer, { RootState } from './root-reducer'\n\nconst store = configureStore({\n  reducer: rootReducer\n})\n\nif (process.env.NODE_ENV === 'development' && module.hot) {\n  module.hot.accept('./root-reducer', () => {\n    const newRootReducer = require('./root-reducer').default\n    store.replaceReducer(newRootReducer)\n  })\n}\n\nexport type AppDispatch = typeof store.dispatch\n\nexport type AppThunk = ThunkAction<void, RootState, unknown, Action<string>>\n\nexport default store\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport Player from './components/player/player';\nimport store from './store/store';\n\nimport './index.scss';\n\nconst render = () => {\n  ReactDOM.render(\n    <Provider store={store}>\n      <Player />\n    </Provider>,\n    document.getElementById('root')\n  )\n}\n\nrender();\n\nif (process.env.NODE_ENV === 'development' && module.hot) {\n  module.hot.accept('./components/player/player', render)\n}\n"],"sourceRoot":""}